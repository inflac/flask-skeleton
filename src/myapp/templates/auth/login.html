<!doctype html>
<html>

<head>
    <title>Login</title>
</head>

<body>
    <h1>Login</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <ul>
        {% for cat, msg in messages %}
        <li><strong>{{ cat }}</strong>: {{ msg }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}

    {% if "local" in providers %}
    <form method="post" action="{{ url_for('auth.login_post', next=request.args.get('next','')) }}">
        {{ form.csrf_token }}
        <div>{{ form.email.label }}<br>{{ form.email() }}</div>
        <div>{{ form.password.label }}<br>{{ form.password() }}</div>
        <div>{{ form.remember() }} {{ form.remember.label }}</div>
        <button type="submit">Sign in</button>
    </form>

    {% if config.get("AUTH_ALLOW_REGISTRATION") %}
    <p><a href="{{ url_for('auth.register') }}">Create account</a></p>
    {% endif %}
    {% endif %}

    <hr>

    {% if "github" in providers %}
    <p><a href="{{ url_for('auth.github_login', next=request.args.get('next','')) }}">Login with GitHub</a></p>
    {% endif %}
    {% if "google" in providers %}
    <p><a href="{{ url_for('auth.google_login', next=request.args.get('next','')) }}">Login with Google</a></p>
    {% endif %}
</body>

</html>