# ============================================================
# myapp .env.example
# Copy to ".env" for local dev. Never commit real secrets.
# ============================================================

# ----------------------------
# Environment / Config
# ----------------------------
# Our app uses CONFIG to pick development/testing/production settings
CONFIG=development

# Flask needs SECRET_KEY for sessions + CSRF (Flask-WTF)
SECRET_KEY=change-me-in-production

# Optional: Force Flask debug in dev (only if you explicitly read these)
# FLASK_DEBUG=1

# ----------------------------
# Application (optional)
# ----------------------------
APP_NAME=myapp
APP_HOST=0.0.0.0
APP_PORT=8000

# Default redirect after login (e.g. admin dashboard)
AUTH_AFTER_LOGIN=/
AUTH_DEFAULT_ADMIN_REDIRECT=/admin

# ----------------------------
# Auth Providers (choose what you want)
# ----------------------------
# Comma-separated list: local,github,google
AUTH_PROVIDERS=local

# Allow self-registration for local auth?
AUTH_ALLOW_REGISTRATION=0

# Linking policy:
# Link OAuth users to existing accounts by email?
# Safer default is 0. If you enable it, restrict to trusted providers.
AUTH_LINK_BY_EMAIL=0
AUTH_TRUSTED_EMAIL_PROVIDERS=google

# ----------------------------
# OAuth (only needed if provider enabled)
# ----------------------------
# GitHub OAuth App
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Google OAuth (OpenID Connect)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ----------------------------
# Database
# ----------------------------
# Local SQLite (simple dev default)
# DATABASE_URL=sqlite:///instance/app.sqlite3
#
# Postgres (Docker/Dev)
DATABASE_URL=postgresql+psycopg://myapp:myapp@localhost:5432/myapp

# Optional: enforce TLS for hosted Postgres (uncomment if needed)
# DB_DEFAULT_SSLMODE=require

# ----------------------------
# SQLAlchemy
# ----------------------------
SQLALCHEMY_ECHO=0
SQLALCHEMY_TRACK_MODIFICATIONS=0

# ----------------------------
# Gunicorn (used by docker/gunicorn.conf.py or entrypoint)
# ----------------------------
GUNICORN_WORKERS=4
GUNICORN_TIMEOUT=30

# ----------------------------
# Cookies / Security (production defaults)
# ----------------------------
# In production behind HTTPS you typically want secure cookies.
# You can implement these in ProductionConfig if you like.
# SESSION_COOKIE_SECURE=1
# REMEMBER_COOKIE_SECURE=1

# ----------------------------
# Email / SMTP (optional, only if your project needs it)
# ----------------------------
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-smtp-user
SMTP_PASSWORD=your-smtp-password
SMTP_USE_TLS=1
SMTP_USE_SSL=0
MAIL_FROM=no-reply@example.com

# ----------------------------
# Cache / Background jobs (optional)
# ----------------------------
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
